{
  "version": 3,
  "sources": ["../src/components/batch.ts", "../src/components/interceptor.ts", "../src/shared/constants.ts", "../src/modules/initialize.ts", "../src/shared/uid.ts", "../src/shared/utils.ts", "../src/modules/observable.ts", "../src/components/observer.ts", "../src/modules/components/manager.ts", "../src/modules/paths-tree.ts", "../src/modules/reaction.ts", "../src/modules/components/computed-manager.ts", "../src/modules/components/object-manager.ts", "../src/modules/components/value-manager.ts", "../src/modules/components/array-manager.ts", "../src/modules/make-observable.ts", "../src/modules/autorun.ts", "../src/modules/transaction.ts", "../src/dev.ts"],
  "sourcesContent": ["import { BatchInstance } from \"shared/types\";\n\nclass Batch implements BatchInstance {\n  private readonly batches: Set<VoidFunction>[] = [];\n\n  public open(): void {\n    this.batches.push(new Set<VoidFunction>());\n  }\n\n  public action(handler: VoidFunction): void {\n    if (!this.batches.length) {\n      return handler();\n    }\n\n    this.batches[this.batches.length - 1].add(handler);\n  }\n\n  public close(): void {\n    const batch = this.batches.pop();\n    if (!batch) {\n      return;\n    }\n\n    batch.forEach((handler) => handler());\n  }\n}\n\nexport default Batch;\n", "import {\n  InterceptorEvent,\n  InterceptorListener,\n  InterceptorInstance,\n} from \"shared/types\";\n\nclass Interceptor implements InterceptorInstance {\n  private readonly listeners = new Set<InterceptorListener>();\n\n  public register(listener: InterceptorListener): void {\n    this.listeners.add(listener);\n  }\n\n  public unregister(listener: InterceptorListener): void {\n    this.listeners.delete(listener);\n  }\n\n  public emit(event: InterceptorEvent): void {\n    if (!this.listeners.size) {\n      return;\n    }\n\n    Array.from(this.listeners).pop()!(event);\n  }\n}\n\nexport default Interceptor;\n", "import {\n  ArrayAnnotation,\n  ComputedAnnotation,\n  ObserverAnnotation,\n  ValueAnnotation,\n} from \"shared/types\";\n\nexport const ANNOTATIONS = {\n  observer: {\n    observable: true,\n  } as ObserverAnnotation,\n  value: {\n    observable: true,\n  } as ValueAnnotation,\n  computed: {\n    observable: true,\n    memoised: true,\n  } as ComputedAnnotation,\n  array: {\n    observable: true,\n  } as ArrayAnnotation,\n};\n\nexport const __DEV__ = process.env.NODE_ENV === \"development\";\n", "import { ManagerInstance, ReactionInstance } from \"shared/types\";\n\nimport Batch from \"components/batch\";\nimport Interceptor from \"components/interceptor\";\nimport { __DEV__ } from \"shared/constants\";\n\nexport const interceptor = new Interceptor();\n\nexport const batch = new Batch();\n\nexport const managers = new Map<string, ManagerInstance>();\n\nexport const reactions = new Map<string, ReactionInstance>();\n\nif (__DEV__) {\n  console.log(\"ProjectX data: \", { interceptor, batch, managers, reactions });\n}\n", "function uidGenerator(): () => number {\n  let i = 0;\n\n  return (): number => i++;\n}\n\nconst uid = uidGenerator();\n\nexport { uidGenerator, uid };\n", "import { uid } from \"shared/uid\";\n\nexport function isObject<T>(target: T) {\n  return target && typeof target === \"object\" && !Array.isArray(target);\n}\n\nexport function isFunction(functionToCheck: Function) {\n  return typeof functionToCheck === \"function\";\n}\n\nexport function createUniqPath(path = \"ObservableState\"): string {\n  return `${path}#${uid()}`;\n}\n\nexport function runAfterScript(fn: VoidFunction): Promise<void> {\n  return Promise.resolve().then(fn);\n}\n\n// TODO\nexport function getGetters<T extends object>(\n  obj: T,\n  ignoredKeys: string[] = []\n): Record<string, PropertyDescriptor> {\n  const descriptions = Object.getOwnPropertyDescriptors(\n    Object.getPrototypeOf(obj)\n  );\n  const result: Record<string, PropertyDescriptor> = {};\n  for (const key in descriptions) {\n    const description = descriptions[key];\n    if (\n      !description.writable &&\n      description.get &&\n      !description.set &&\n      !ignoredKeys.includes(key)\n    ) {\n      result[key] = description;\n    }\n  }\n\n  return result;\n}\n\nexport function isEqualArray<T>(arr1: T[], arr2: T[]): boolean {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  return arr1.every((key) => arr2.indexOf(key) !== -1);\n}\n", "import { isObject } from \"shared/utils\";\nimport type { ManagerInstance, ManagerOptions } from \"shared/types\";\n\nimport { ArrayManager, ObjectManager, ValueManager } from \"./components\";\n\nexport function observable<T extends object>(\n  target: T,\n  options: ManagerOptions\n): ManagerInstance<T>;\n\nexport function observable<T>(\n  target: Array<T>,\n  options: ManagerOptions\n): ManagerInstance<T>;\n\nexport function observable<T>(\n  target: T,\n  options: ManagerOptions\n): ManagerInstance<T>;\n\nexport function observable<T>(target: T, options: ManagerOptions) {\n  if (Array.isArray(target)) {\n    return new ArrayManager(target, options);\n  }\n\n  if (isObject(target)) {\n    return new ObjectManager(target as object, options);\n  }\n\n  if (target instanceof Set) {\n    return target;\n  }\n\n  if (target instanceof Map) {\n    return target;\n  }\n\n  return new ValueManager(target, options);\n}\n", "import {\n  Event,\n  Listener,\n  ObserverInstance,\n  ObserverWithTypeInstance,\n} from \"shared/types\";\n\nexport class Observer<T> implements ObserverInstance<T> {\n  private listeners = new Set<Listener<T>>();\n\n  public listen(listener: Listener<T>): VoidFunction {\n    this.listeners.add(listener);\n\n    return () => {\n      this.listeners.delete(listener);\n    };\n  }\n\n  public emit(event: Event<T>): void {\n    for (const listener of this.listeners) {\n      if (listener(event)) {\n        break;\n      }\n    }\n  }\n}\n\nclass ObserverWithType<T, E extends string>\n  implements ObserverWithTypeInstance<T, E>\n{\n  private readonly listenerMap = new Map<E | \"all\", ObserverInstance<T>>();\n  protected observable = true;\n\n  public listen(type: E | E[], callback: Listener<T>): VoidFunction {\n    if (!this.observable) {\n      return () => {};\n    }\n\n    const unlisten: Function[] = [];\n    const types = Array.isArray(type) ? type : [type];\n    for (const eachType of types) {\n      const listeners = this.listenerMap.get(eachType) || new Observer<T>();\n\n      this.listenerMap.set(eachType, listeners);\n\n      unlisten.push(listeners.listen(callback));\n    }\n\n    return () => {\n      unlisten.forEach((fn) => fn());\n    };\n  }\n\n  public emit(type: Exclude<E, \"all\">, event: Event<T>): void {\n    if (!this.observable || event.current === event.prev) {\n      return;\n    }\n\n    const listeners = this.listenerMap.get(type);\n    const allListeners = this.listenerMap.get(\"all\");\n    if (listeners) {\n      listeners.emit(event);\n    }\n\n    if (allListeners) {\n      allListeners.emit(event);\n    }\n  }\n}\n\nexport { ObserverWithType };\n", "import {\n  Annotation,\n  ManagerInstance,\n  ManagerOptions,\n  ObserverTypes,\n} from \"shared/types\";\n\nimport { ObserverWithType } from \"components/observer\";\n\nimport { interceptor } from \"modules/initialize\";\n\nabstract class Manager<T, A extends Annotation, M>\n  extends ObserverWithType<T, ObserverTypes>\n  implements Partial<ManagerInstance<T, M>>\n{\n  protected annotation: A = {} as A;\n  public path: string[] = [];\n\n  constructor({ path, annotation }: ManagerOptions, defaultAnnotation: A) {\n    super();\n\n    this.path = path;\n    this.annotation = { ...defaultAnnotation, ...annotation };\n    this.observable = this.annotation.observable!;\n  }\n\n  public dispose(): void {\n    this.path = [];\n    this.disposeManagers();\n    this.emit(\"dispose\", { prev: this.snapshot });\n  }\n\n  protected reportUsage(): void {\n    if (!this.annotation.observable) {\n      return;\n    }\n\n    interceptor.emit({ path: this.path });\n  }\n\n  protected joinToPath(key: string | symbol): string[] {\n    return [...this.path, String(key)];\n  }\n\n  public get name(): string {\n    return this.path[this.path.length - 1];\n  }\n\n  public get snapshot(): T {\n    // @ts-ignore\n    return this.target;\n  }\n\n  public get keys(): string[] {\n    return [];\n  }\n\n  public toString(): string {\n    return String(this.snapshot);\n  }\n\n  public disposeManagers(): void {}\n}\n\nexport default Manager;\n", "import {\n  ListenManagersResult,\n  ManagerInstance,\n  ObserverTypes,\n  PathNodeInstance,\n  PathsTreeInstance,\n} from \"shared/types\";\nimport { isEqualArray } from \"shared/utils\";\n\nimport { managers } from \"modules/initialize\";\n\nclass PathNode implements PathNodeInstance {\n  public children: Record<string, PathNodeInstance> = {};\n  public listenTypes: ObserverTypes[] = [];\n\n  constructor(public value: string, public manager: ManagerInstance) {}\n\n  public get keys() {\n    return Object.keys(this.children);\n  }\n\n  public push([path, ...paths]: string[]): void {\n    const nextNode =\n      this.children[path] ||\n      new PathNode(path, this.manager!.manager(path)!);\n\n    this.children[path] = nextNode;\n\n    if (!paths.length) {\n      return;\n    }\n\n    return nextNode.push(paths);\n  }\n}\n\nclass PathTree implements PathsTreeInstance {\n  private nodes: Record<string, PathNodeInstance> = {};\n\n  constructor(paths: string[][]) {\n    for (const [path, ...restPath] of paths) {\n      this.nodes[path] =\n        this.nodes[path] || new PathNode(path, managers.get(path)!);\n\n      this.nodes[path].push(restPath);\n    }\n\n    for (const key in this.nodes) {\n      this.linkingRec(this.nodes[key]);\n    }\n  }\n\n  private linkingRec(node: PathNodeInstance) {\n    const keys = Object.keys(node.children);\n    if (!keys.length) {\n      return (node.listenTypes = [\"all\"]);\n    }\n\n    node.listenTypes = isEqualArray(keys, node.manager!.keys)\n      ? [\"add\", \"change\", \"remove\"]\n      : [\"change\"];\n\n    for (const key of keys) {\n      this.linkingRec(node.children[key]);\n    }\n  }\n\n  private optimizedRec(node: PathNodeInstance): ListenManagersResult[] {\n    let result: ListenManagersResult[] = [\n      { listenTypes: node.listenTypes, manager: node.manager! },\n    ];\n    if (!node.keys.length) {\n      return result;\n    }\n\n    for (const key in node.children) {\n      result = result.concat(this.optimizedRec(node.children[key]));\n    }\n\n    return result;\n  }\n\n  public getListenManagers(): ListenManagersResult[] {\n    let result: ListenManagersResult[] = [];\n    for (const key in this.nodes) {\n      result = result.concat(this.optimizedRec(this.nodes[key]));\n    }\n\n    return result;\n  }\n}\n\nexport default PathTree;\n", "import {\n  InterceptorEvent,\n  PathsTreeInstance,\n  ReactionInstance,\n  WatchCallback,\n} from \"shared/types\";\nimport { uid } from \"shared/uid\";\n\nimport PathTree from \"modules/paths-tree\";\nimport { batch, interceptor, reactions } from \"modules/initialize\";\n\nclass Reaction implements ReactionInstance {\n  private paths: string[][] = [];\n  private unsubscribeFns: (() => void)[] = [];\n\n  constructor(public readonly id: string = `Reaction#${uid()}`) {\n    reactions.set(id, this);\n  }\n\n  private listener = ({ path }: InterceptorEvent) => {\n    this.paths.push(path);\n  };\n\n  private unlisten = () => {\n    if (!this.unsubscribeFns.length) {\n      return;\n    }\n\n    this.unsubscribeFns.forEach((unlistener) => unlistener());\n    this.unsubscribeFns = [];\n  };\n\n  public getPathTree(): PathsTreeInstance | null {\n    if (!this.paths.length) {\n      return null;\n    }\n\n    return new PathTree(this.paths);\n  }\n\n  public dispose(): void {\n    reactions.delete(this.id);\n\n    this.paths = [];\n    this.unlisten();\n  }\n\n  public startWatch(): void {\n    this.paths = [];\n    interceptor.register(this.listener);\n  }\n\n  public endWatch(): void {\n    interceptor.unregister(this.listener);\n  }\n\n  public watch(watch: WatchCallback): VoidFunction {\n    const tree = this.getPathTree();\n    if (!tree) {\n      console.warn(\n        `Instances for listen in reaction \\`${this.id}\\` not found. Reconsider the use of adverse reactions.`\n      );\n\n      return () => {};\n    }\n\n    const managers = tree.getListenManagers();\n    const handler = () => watch(this.unlisten);\n    this.unlisten();\n    this.unsubscribeFns = managers.map(({ listenTypes, manager }) =>\n      manager.listen(listenTypes, () => {\n        batch.action(handler);\n      })\n    );\n\n    return this.unlisten;\n  }\n\n  public syncCaptured<T>(fn: () => T): T {\n    this.startWatch();\n\n    const result = fn();\n\n    this.endWatch();\n\n    return result;\n  }\n}\n\nexport { Reaction };\n", "import type {\n  ComputedAnnotation,\n  ManagerInstance,\n  ManagerOptions,\n  ReactionInstance,\n  RequiredManagerInstance,\n} from \"shared/types\";\nimport { runAfterScript } from \"shared/utils\";\nimport { ANNOTATIONS } from \"shared/constants\";\n\nimport { Reaction } from \"../reaction\";\nimport Manager from \"./manager\";\n\nclass ComputedManager<T>\n  extends Manager<T, ComputedAnnotation, null>\n  implements RequiredManagerInstance<T>\n{\n  private reaction: ReactionInstance;\n  private savedResult?: T;\n  private isMemoized = false;\n  private isChanged = false;\n  public managers = null;\n\n  constructor(private readonly target: T, options: ManagerOptions) {\n    super(options, ANNOTATIONS.computed);\n\n    this.reaction = new Reaction(`Computed#${this.path.join(\".\")}`);\n\n    this.emit(\"define\", { current: this.snapshot });\n  }\n\n  public manager(): ManagerInstance | null {\n    return null;\n  }\n\n  public get snapshot(): T {\n    return (this.target as Function)();\n  }\n\n  public get value(): T {\n    const { memoised } = this.annotation;\n    if (!memoised) {\n      return this.target;\n    }\n\n    return (() => {\n      this.reportUsage();\n\n      if (this.isMemoized && !this.isChanged) {\n        return this.savedResult!;\n      }\n\n      this.savedResult = this.reaction.syncCaptured(this.target as () => T);\n      this.isMemoized = true;\n      this.isChanged = false;\n\n      this.reaction.watch(() => {\n        this.isChanged = true;\n\n        runAfterScript(() => {\n          this.emit(\"change\", {\n            current: undefined as T,\n            prev: this.savedResult!,\n          });\n        });\n      });\n\n      return this.savedResult;\n    }) as T;\n  }\n\n  public set(): boolean {\n    return false;\n  }\n\n  public dispose(): void {\n    this.reaction.dispose();\n    super.dispose();\n  }\n}\n\nexport default ComputedManager;\n", "import type {\n  Annotated,\n  ComputedAnnotation,\n  ManagerInstance,\n  ManagerOptions,\n  EntryAnnotation,\n  ObserverAnnotation,\n  RequiredManagerInstance,\n} from \"shared/types\";\nimport { getGetters } from \"shared/utils\";\nimport { ANNOTATIONS } from \"shared/constants\";\n\nimport { observable } from \"modules/observable\";\n\nimport Manager from \"./manager\";\nimport ComputedManager from \"./computed-manager\";\n\nclass ObjectManager<T extends object | Annotated>\n  extends Manager<\n    T,\n    ObserverAnnotation,\n    Record<string | symbol, ManagerInstance<any>>\n  >\n  implements RequiredManagerInstance<T>\n{\n  public managers: Record<string | symbol, ManagerInstance> = {};\n\n  private proxy: T;\n\n  private get annotations(): EntryAnnotation {\n    const annotation = (this.target as Annotated).annotation || {};\n\n    return {\n      fields: {},\n      getters: {},\n      ...annotation,\n    };\n  }\n\n  private handlers: Required<\n    Pick<ProxyHandler<T>, \"deleteProperty\" | \"defineProperty\">\n  > = {\n    deleteProperty: (_target, key) => {\n      const manager = this.managers[key];\n      const deleteResult = delete this.managers[key];\n\n      if (deleteResult) {\n        manager.dispose();\n        this.emit(\"remove\", { prev: manager.value });\n      }\n\n      return deleteResult;\n    },\n    defineProperty: (_target, key, prop) => {\n      const result = this.defineProp(\n        key,\n        prop,\n        this.annotations.fields[String(key)]\n      );\n\n      this.emit(\"add\", {\n        current: this.value,\n      });\n\n      return result;\n    },\n  };\n\n  private defineProp(\n    key: string | symbol,\n    { value, configurable = true, enumerable = true }: PropertyDescriptor,\n    options?: ObserverAnnotation\n  ): boolean {\n    this.managers[key] = observable(value, {\n      path: this.joinToPath(key),\n      annotation: options,\n    });\n\n    Object.defineProperty(this.target, key, {\n      configurable,\n      enumerable,\n      get: () => this.managers[key].value,\n      set: (value) => this.managers[key].set(value),\n    });\n\n    return true;\n  }\n\n  private defineComp(\n    key: string,\n    { get, ...descriptions }: PropertyDescriptor,\n    options?: ComputedAnnotation\n  ): void {\n    this.managers[key] = new ComputedManager(get!.bind(this.target), {\n      path: this.joinToPath(key),\n      annotation: options,\n    });\n\n    Object.defineProperty(this.target, key, {\n      ...descriptions,\n      get: this.managers[key].value,\n    });\n  }\n\n  constructor(private target: T, options: ManagerOptions) {\n    super(options, ANNOTATIONS.observer);\n\n    this.proxy = this.define(target);\n  }\n\n  public get snapshot(): T {\n    return Object.entries(this.managers).reduce(\n      (acc, [key, value]) => Object.assign(acc, { [key]: value.snapshot }),\n      {} as T\n    );\n  }\n\n  public get value(): T {\n    this.reportUsage();\n\n    return this.proxy;\n  }\n\n  public get keys() {\n    return Object.keys(this.managers);\n  }\n\n  public set(value: T): boolean {\n    this.target = value;\n    const prev = { ...this.target };\n\n    this.proxy = this.define(value);\n\n    this.emit(\"change\", {\n      current: value,\n      prev,\n    });\n\n    return true;\n  }\n\n  public disposeManagers() {\n    for (const key in this.managers) {\n      this.managers[key].dispose();\n    }\n\n    this.managers = {};\n  }\n\n  public manager(key: string | symbol): ManagerInstance {\n    return this.managers[key];\n  }\n\n  private define(target: T): T {\n    this.disposeManagers();\n\n    const proxy = new Proxy(target, this.handlers);\n    const getters = getGetters(target, [\"annotation\"]);\n\n    const annotation = this.annotations;\n\n    for (const key in target) {\n      this.defineProp(key, { value: target[key] }, annotation.fields[key]);\n    }\n\n    for (const key in getters) {\n      this.defineComp(key, getters[key], annotation.getters[key]);\n    }\n\n    return proxy;\n  }\n}\n\nexport default ObjectManager;\n", "import {\n  ManagerInstance,\n  ManagerOptions,\n  RequiredManagerInstance,\n  ValueAnnotation,\n} from \"shared/types\";\nimport { ANNOTATIONS } from \"shared/constants\";\n\nimport Manager from \"./manager\";\n\nclass ValueManager<T>\n  extends Manager<T, ValueAnnotation, unknown>\n  implements RequiredManagerInstance<T>\n{\n  constructor(public target: T, options: ManagerOptions) {\n    super(options, ANNOTATIONS.value);\n\n    this.emit(\"define\", { current: target });\n  }\n\n  get value(): T {\n    this.reportUsage();\n\n    return this.target;\n  }\n\n  public set(value: any): boolean {\n    const prev = this.target;\n\n    this.target = value;\n\n    this.emit(\"change\", {\n      current: value,\n      prev,\n    });\n\n    return true;\n  }\n\n  public manager(): ManagerInstance | null {\n    return null;\n  }\n}\n\nexport default ValueManager;\n", "import {\n  ArrayAnnotation,\n  ManagerInstance,\n  ManagerOptions,\n  RequiredManagerInstance,\n} from \"shared/types\";\nimport { isFunction } from \"shared/utils\";\nimport { ANNOTATIONS } from \"shared/constants\";\n\nimport { observable } from \"modules/observable\";\n\nimport Manager from \"./manager\";\n\nclass ArrayManager<T>\n  extends Manager<Array<T>, ArrayAnnotation, Array<ManagerInstance<T>>>\n  implements RequiredManagerInstance<Array<T>>\n{\n  private managers: Array<ManagerInstance> = [];\n  private proxy: Array<T>;\n\n  constructor(private target: Array<T>, options: ManagerOptions) {\n    super(options, ANNOTATIONS.array);\n\n    this.proxy = this.define(target);\n\n    this.emit(\"define\", { current: this.value });\n  }\n\n  private handlers: Required<\n    Pick<ProxyHandler<Array<T>>, \"deleteProperty\" | \"get\" | \"set\">\n  > = {\n    get: (_target, key) => {\n      const index = Number(key);\n      if (!Number.isNaN(index)) {\n        return this.managers[index]?.value;\n      }\n\n      const value = this.target[key as keyof Array<T>];\n      if (isFunction(value as never)) {\n        return (...args: never[]) =>\n          (value as Function).call(this.proxy, ...args);\n      }\n\n      return value;\n    },\n    set: (_target, key, value) => {\n      const index = Number(key);\n      if (!Number.isNaN(index)) {\n        if (index in this.managers) {\n          return this.managers[index].set(value);\n        }\n\n        try {\n          this.managers[index] = observable(value, {\n            path: this.joinToPath(key),\n          });\n          this.target[index] = value;\n\n          this.emit(\"add\", { current: this.value });\n\n          return true;\n        } catch {\n          return false;\n        }\n      }\n\n      this.target[key as keyof Array<T>] = value;\n\n      return true;\n    },\n    deleteProperty: (_target, key) => {\n      const index = Number(key);\n      if (Number.isNaN(index)) {\n        return false;\n      }\n\n      if (!(index in this.target)) {\n        return false;\n      }\n\n      const manager = this.managers[index];\n      const deleteResult = this.target.splice(index, 1).length === 1;\n      if (deleteResult) {\n        if (manager) {\n          this.managers.splice(index, 1);\n          manager.dispose();\n        }\n      }\n\n      return deleteResult;\n    },\n  };\n\n  public set(value: Array<T>): boolean {\n    const prev = this.value;\n\n    this.target = value;\n    this.proxy = this.define(value);\n\n    this.emit(\"change\", {\n      current: value,\n      prev,\n    });\n\n    return true;\n  }\n\n  public get snapshot(): Array<T> {\n    return [...this.target];\n  }\n\n  public get keys(): string[] {\n    const result = [];\n    for (const index in this.target) {\n      result.push(index);\n    }\n\n    return result;\n  }\n\n  public get value(): Array<T> {\n    this.reportUsage();\n\n    return this.proxy;\n  }\n\n  public manager(key: string | symbol): ManagerInstance | null {\n    return this.managers[Number(key)];\n  }\n\n  public disposeManagers() {\n    for (const manager of this.managers) {\n      manager.dispose();\n    }\n\n    this.managers = [];\n  }\n\n  private define(target: Array<T>): Array<T> {\n    this.disposeManagers();\n\n    for (const item of target) {\n      this.managers.push(\n        observable<T>(item, {\n          path: this.joinToPath(String(this.managers.length)),\n        })\n      );\n    }\n\n    return new Proxy(target, this.handlers);\n  }\n}\n\nexport default ArrayManager;\n", "import { managers } from \"modules/initialize\";\n\nimport type { ManagerInstance, Constructable, Annotated } from \"shared/types\";\nimport { createUniqPath } from \"shared/utils\";\n\nimport { ArrayManager, ObjectManager } from \"./components\";\n\nfunction register<T>(manager: ManagerInstance<T>): T {\n  managers.set(manager.name, manager);\n\n  return manager.value;\n}\n\nexport const observable = {\n  object: <T extends object | Annotated>(target: T) =>\n    register(new ObjectManager(target, { path: [createUniqPath()] })),\n  class: <T extends object | Annotated>(Target: Constructable<T>): T =>\n    register(\n      new ObjectManager(new Target(), { path: [createUniqPath(Target.name)] })\n    ),\n  array: <T>(target: Array<T>) =>\n    new ArrayManager(target, { path: [createUniqPath()] }),\n  map: <K, T>(target: Map<K, T>) => target,\n  set: <T>(target: Set<T>) => target,\n};\n", "import { WatchCallback } from \"shared/types\";\nimport { runAfterScript } from \"shared/utils\";\n\nimport { Reaction } from \"./reaction\";\n\nfunction autorun<T>(fn: () => T): VoidFunction {\n  const reaction = new Reaction();\n\n  reaction.syncCaptured(fn);\n\n  const watch: WatchCallback = () => {\n    reaction.syncCaptured(fn);\n\n    runAfterScript(() => reaction.watch(watch));\n  };\n\n  reaction.watch(watch);\n\n  return () => {\n    reaction.dispose();\n  };\n}\n\nexport { autorun };\n", "import { batch } from \"modules/initialize\";\n\nfunction transaction(callback: VoidFunction): void {\n  batch.open();\n\n  callback();\n\n  batch.close();\n}\n\nexport { transaction };\n", "import { autorun, observable, transaction } from \"./index\";\n\nclass BaseState {\n  counter = 1;\n  array = [10, 23];\n\n  get mul() {\n    return this.counter * 2;\n  }\n}\n\nclass State extends BaseState {\n  increment() {\n    this.counter++;\n  }\n\n  decrement() {\n    this.counter--;\n  }\n\n  fetch() {\n    this.array[0] = this.counter + 1;\n  }\n\n  push() {\n    transaction(() => {\n      this.counter++;\n      this.array.push(this.array.length * this.counter);\n      this.counter++;\n    });\n  }\n}\n\nconst obj = {\n  counter: 1,\n  inc() {\n    this.counter++;\n  },\n  dec() {\n    this.counter--;\n  },\n};\n\nconst state = observable.class(State);\nconst stateObj = observable.object(obj);\n\nconsole.log(state);\n\nconst div = document.createElement(\"div\");\nconst div1 = document.createElement(\"div\");\nconst div2 = document.createElement(\"div\");\nconst buttonPlus = document.createElement(\"button\");\nconst buttonMinus = document.createElement(\"button\");\nconst buttonPlus2 = document.createElement(\"button\");\nconst buttonMinus2 = document.createElement(\"button\");\nconst buttonFetch = document.createElement(\"button\");\nconst buttonPush = document.createElement(\"button\");\n\nbuttonMinus.innerText = \"-\";\nbuttonPlus.innerText = \"+\";\nbuttonPlus2.innerText = \"+\";\nbuttonMinus2.innerText = \"-\";\nbuttonFetch.innerText = \"fetch\";\nbuttonPush.innerText = \"push\";\n\nautorun(() => {\n  console.log(\"trigger counter\");\n  div.innerText = `state: ${state.counter}`;\n});\n\nautorun(() => {\n  console.log(\"trigger stateObj\");\n  div1.innerText = `stateObj: ${stateObj.counter}`;\n});\n\nautorun(() => {\n  console.log(\"trigger array\");\n  div2.innerText = `arr: ${JSON.stringify(state.array)}`;\n  div.innerText = `state: ${state.counter}`;\n});\n\nbuttonPlus.addEventListener(\"click\", () => {\n  state.increment();\n});\n\nbuttonMinus.addEventListener(\"click\", () => {\n  state.decrement();\n});\n\nbuttonPlus2.addEventListener(\"click\", () => {\n  stateObj.inc();\n});\n\nbuttonMinus2.addEventListener(\"click\", () => {\n  stateObj.dec();\n});\n\nbuttonFetch.addEventListener(\"click\", () => {\n  state.fetch();\n});\n\nbuttonPush.addEventListener(\"click\", () => {\n  state.push();\n});\n\ndocument.body.appendChild(div);\ndocument.body.appendChild(div1);\ndocument.body.appendChild(div2);\ndocument.body.appendChild(buttonPlus);\ndocument.body.appendChild(buttonMinus);\ndocument.body.appendChild(buttonPlus2);\ndocument.body.appendChild(buttonMinus2);\ndocument.body.appendChild(buttonFetch);\ndocument.body.appendChild(buttonPush);\n"],
  "mappings": "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",
  "names": ["batch", "obj", "watch", "managers", "value", "observable", "watch", "observable"]
}
